{
  "version": 3,
  "file": "ng2-slide-down.js",
  "sources": [
    "ng://ng2-slide-down/out/src/ng2-slide-down.module.ts",
    "ng://ng2-slide-down/out/src/ng2-slide-down.directive.ts"
  ],
  "sourcesContent": [
    "/*\n * Copyright (c) PIXILAB Technologies AB, Sweden (http://pixilab.se). All Rights Reserved.\n * Created 2018 by Max Fahl.\n */\n\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { Ng2SlideDownDirective } from './ng2-slide-down.directive';\n\nconst commonDeclarations = [\n\tNg2SlideDownDirective\n];\n\n@NgModule({\n\timports: [\n\n\t],\n\tdeclarations: [\n\t\t...commonDeclarations\n\t],\n\texports: [\n\t\t...commonDeclarations\n\t]\n})\nexport class Ng2SlideDownModule {\n\tstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: Ng2SlideDownModule\n\t\t};\n\t}\n}\n",
    "/*\n * Copyright (c) PIXILAB Technologies AB, Sweden (http://pixilab.se). All Rights Reserved.\n * Created 2018 by Max Fahl.\n */\n\nimport { Directive, ElementRef, EventEmitter, Input, OnDestroy, Output, Renderer2 } from '@angular/core';\n\n@Directive({ selector: '[slide-down]' })\nexport class Ng2SlideDownDirective implements OnDestroy {\n\n\tprivate _visible: boolean;\n\tprivate _initialized: boolean = false;\n\tprivate _animationTimeout: number;\n\n\t@Input('slide-down-animated')\n\tanimated: boolean = true;\n\n\t@Input('slide-down-duration')\n\tduration: number = .25;\n\n\t@Input('slide-down-easing')\n\teasing: string = 'ease-out';\n\n\t@Input('slide-down')\n\tset slideDown(val: boolean) {\n\t\tif (this._visible !== val) {\n\t\t\tthis._visible = val;\n\t\t\tthis.showOrHide();\n\t\t\tthis._initialized = true;\n\t\t}\n\t}\n\n\t/**\n\t * Emitted when starting to show or hide content.\n\t *\n\t * Value emitted indicates if the content is visible or not.\n\t */\n\t@Output('slide-start')\n\tslideStart: EventEmitter<boolean>;\n\n\t/**\n\t * Emitted when the show or hide animation has finished.\n\t *\n\t * Value emitted indicates if the content is visible or not.\n\t */\n\t@Output('slide-end')\n\tslideEnd: EventEmitter<boolean>;\n\n\tconstructor(\n\t\tprivate elRef: ElementRef,\n\t\tprivate renderer: Renderer2\n\t) {\n\t\tthis.slideStart = new EventEmitter<boolean>();\n\t\tthis.slideEnd = new EventEmitter<boolean>();\n\t}\n\n\tprivate showOrHide(): void {\n\t\tif (this._visible)\n\t\t\tthis.show();\n\t\telse\n\t\t\tthis.hide();\n\n\t\tthis.slideStart.emit(this._visible);\n\t}\n\n\tprivate show(): void {\n\t\tthis.clearAnimationTimer();\n\n\t\tconst doAnimate = this.shouldAnimate();\n\t\tconst animationDuration = doAnimate ? this.durationMs : 0;\n\n\t\tthis.renderer.setStyle(this.element, 'overflowY', 'hidden');\n\t\tif (doAnimate) {\n\t\t\tthis.renderer.setStyle(this.element, 'transitionProperty', 'height');\n\t\t\tthis.renderer.setStyle(this.element, 'transitionDuration', `${ this.durationMs }ms`);\n\t\t\tthis.renderer.setStyle(this.element, 'transitionTimingFunction', this.easing);\n\t\t}\n\n\t\tthis.waitDOMRender(() => {\n\t\t\tthis.renderer.setStyle(this.element, 'height', `${ this.getHeight() }px`);\n\t\t\tthis._animationTimeout = window.setTimeout(() => {\n\t\t\t\tthis.renderer.setStyle(this.element, 'overflowY', null);\n\t\t\t\tthis.renderer.setStyle(this.element, 'transition', null);\n\t\t\t\tthis.renderer.setStyle(this.element, 'height', null);\n\t\t\t\tthis.slideEnd.emit(this._visible);\n\t\t\t}, animationDuration);\n\t\t});\n\t}\n\n\tprivate hide(): void {\n\t\tthis.clearAnimationTimer();\n\n\t\tconst doAnimate = this.shouldAnimate();\n\t\tconst animationDuration = doAnimate ? this.durationMs : 0;\n\n\t\tthis.renderer.setStyle(this.element, 'overflowY', 'hidden');\n\t\tthis.renderer.setStyle(this.element, 'height', `${ this.getHeight() }px`);\n\t\tif (doAnimate) {\n\t\t\tthis.renderer.setStyle(this.element, 'transitionProperty', 'height');\n\t\t\tthis.renderer.setStyle(this.element, 'transitionDuration', `${ this.durationMs }ms`);\n\t\t\tthis.renderer.setStyle(this.element, 'transitionTimingFunction', this.easing);\n\t\t}\n\n\t\tthis.waitDOMRender(() => {\n\t\t\tthis.renderer.setStyle(this.element, 'height', '0px');\n\t\t\tthis._animationTimeout = window.setTimeout(() => {\n\t\t\t\tthis.renderer.setStyle(this.element, 'transition', null);\n\t\t\t\tthis.slideEnd.emit(this._visible);\n\t\t\t}, animationDuration);\n\t\t});\n\t}\n\n\t/**\n\t * Returns the accumulated height of all children.\n\t */\n\tprivate getHeight(): number {\n\t\tlet height = 0;\n\t\tthis.elementChildren.forEach(child => height += child.getBoundingClientRect().height);\n\t\treturn height;\n\t}\n\n\t/**\n\t * Only animate after the initial status has been set.\n\t */\n\tprivate shouldAnimate(): boolean {\n\t\treturn this._initialized && this.animated;\n\t}\n\n\tprivate clearAnimationTimer(): void {\n\t\tif (this._animationTimeout !== undefined) {\n\t \t\twindow.clearTimeout(this._animationTimeout);\n\t\t\tthis._animationTimeout = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Wait two cycles of requestAnimationFrame to be sure styles\n\t * has been applied before continuing with whatever..\n\t */\n\tprivate waitDOMRender(cb: Function): void {\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tcb();\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate get element(): HTMLElement {\n\t\treturn this.elRef.nativeElement;\n\t}\n\n\t/**\n\t * Return all of my element's children as an array.\n\t */\n\tprivate get elementChildren(): HTMLElement[] {\n\t\treturn Array.prototype.slice.call(this.element.children);\n\t}\n\n\tprivate get durationMs(): number {\n\t\treturn this.duration * 1000;\n\t}\n\n\t/**\n\t * Clean-up.\n\t */\n\tpublic ngOnDestroy(): void {\n\t\tthis.clearAnimationTimer();\n\t}\n}\n"
  ],
  "names": [],
  "mappings": "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"
}
