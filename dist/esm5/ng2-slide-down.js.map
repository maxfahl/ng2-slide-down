{
  "version": 3,
  "file": "ng2-slide-down.js",
  "sources": [
    "ng://ng2-slide-down/out/src/ng2-slide-down.module.ts",
    "ng://ng2-slide-down/out/src/ng2-slide-down.directive.ts"
  ],
  "sourcesContent": [
    "/*\n * Copyright (c) PIXILAB Technologies AB, Sweden (http://pixilab.se). All Rights Reserved.\n * Created 2018 by Max Fahl.\n */\n\nimport { ModuleWithProviders, NgModule } from '@angular/core';\nimport { Ng2SlideDownDirective } from './ng2-slide-down.directive';\n\nconst commonDeclarations = [\n\tNg2SlideDownDirective\n];\n\n@NgModule({\n\timports: [\n\n\t],\n\tdeclarations: [\n\t\t...commonDeclarations\n\t],\n\texports: [\n\t\t...commonDeclarations\n\t]\n})\nexport class Ng2SlideDownModule {\n\tstatic forRoot(): ModuleWithProviders {\n\t\treturn {\n\t\t\tngModule: Ng2SlideDownModule\n\t\t};\n\t}\n}\n",
    "/*\n * Copyright (c) PIXILAB Technologies AB, Sweden (http://pixilab.se). All Rights Reserved.\n * Created 2018 by Max Fahl.\n */\n\nimport { Directive, ElementRef, EventEmitter, Input, OnDestroy, Output, Renderer2 } from '@angular/core';\n\n@Directive({ selector: '[slide-down]' })\nexport class Ng2SlideDownDirective implements OnDestroy {\n\n\tprivate _visible: boolean;\n\tprivate _initialized: boolean = false;\n\tprivate _animationTimeout: number;\n\n\t@Input('slide-down-animated')\n\tanimated: boolean = true;\n\n\t@Input('slide-down-duration')\n\tduration: number = .25;\n\n\t@Input('slide-down-easing')\n\teasing: string = 'ease-out';\n\n\t@Input('slide-down')\n\tset slideDown(val: boolean) {\n\t\tif (this._visible !== val) {\n\t\t\tthis._visible = val;\n\t\t\tthis.showOrHide();\n\t\t\tthis._initialized = true;\n\t\t}\n\t}\n\n\t/**\n\t * Emitted when starting to show or hide content.\n\t *\n\t * Value emitted indicates if the content is visible or not.\n\t */\n\t@Output('slide-start')\n\tslideStart: EventEmitter<boolean>;\n\n\t/**\n\t * Emitted when the show or hide animation has finished.\n\t *\n\t * Value emitted indicates if the content is visible or not.\n\t */\n\t@Output('slide-end')\n\tslideEnd: EventEmitter<boolean>;\n\n\tconstructor(\n\t\tprivate elRef: ElementRef,\n\t\tprivate renderer: Renderer2\n\t) {\n\t\tthis.slideStart = new EventEmitter<boolean>();\n\t\tthis.slideEnd = new EventEmitter<boolean>();\n\t}\n\n\tprivate showOrHide(): void {\n\t\tif (this._visible)\n\t\t\tthis.show();\n\t\telse\n\t\t\tthis.hide();\n\n\t\tthis.slideStart.emit(this._visible);\n\t}\n\n\tprivate show(): void {\n\t\tthis.clearAnimationTimer();\n\n\t\tconst doAnimate = this.shouldAnimate();\n\t\tconst animationDuration = doAnimate ? this.durationMs : 0;\n\n\t\tthis.renderer.setStyle(this.element, 'overflowY', 'hidden');\n\t\tif (doAnimate) {\n\t\t\tthis.renderer.setStyle(this.element, 'transitionProperty', 'height');\n\t\t\tthis.renderer.setStyle(this.element, 'transitionDuration', `${ this.durationMs }ms`);\n\t\t\tthis.renderer.setStyle(this.element, 'transitionTimingFunction', this.easing);\n\t\t}\n\n\t\tthis.waitDOMRender(() => {\n\t\t\tthis.renderer.setStyle(this.element, 'height', `${ this.getHeight() }px`);\n\t\t\tthis._animationTimeout = window.setTimeout(() => {\n\t\t\t\tthis.renderer.setStyle(this.element, 'overflowY', null);\n\t\t\t\tthis.renderer.setStyle(this.element, 'transition', null);\n\t\t\t\tthis.renderer.setStyle(this.element, 'height', null);\n\t\t\t\tthis.slideEnd.emit(this._visible);\n\t\t\t}, animationDuration);\n\t\t});\n\t}\n\n\tprivate hide(): void {\n\t\tthis.clearAnimationTimer();\n\n\t\tconst doAnimate = this.shouldAnimate();\n\t\tconst animationDuration = doAnimate ? this.durationMs : 0;\n\n\t\tthis.renderer.setStyle(this.element, 'overflowY', 'hidden');\n\t\tthis.renderer.setStyle(this.element, 'height', `${ this.getHeight() }px`);\n\t\tif (doAnimate) {\n\t\t\tthis.renderer.setStyle(this.element, 'transitionProperty', 'height');\n\t\t\tthis.renderer.setStyle(this.element, 'transitionDuration', `${ this.durationMs }ms`);\n\t\t\tthis.renderer.setStyle(this.element, 'transitionTimingFunction', this.easing);\n\t\t}\n\n\t\tthis.waitDOMRender(() => {\n\t\t\tthis.renderer.setStyle(this.element, 'height', '0px');\n\t\t\tthis._animationTimeout = window.setTimeout(() => {\n\t\t\t\tthis.renderer.setStyle(this.element, 'transition', null);\n\t\t\t\tthis.slideEnd.emit(this._visible);\n\t\t\t}, animationDuration);\n\t\t});\n\t}\n\n\t/**\n\t * Returns the accumulated height of all children.\n\t */\n\tprivate getHeight(): number {\n\t\tlet height = 0;\n\t\tthis.elementChildren.forEach(child => height += child.getBoundingClientRect().height);\n\t\treturn height;\n\t}\n\n\t/**\n\t * Only animate after the initial status has been set.\n\t */\n\tprivate shouldAnimate(): boolean {\n\t\treturn this._initialized && this.animated;\n\t}\n\n\tprivate clearAnimationTimer(): void {\n\t\tif (this._animationTimeout !== undefined) {\n\t \t\twindow.clearTimeout(this._animationTimeout);\n\t\t\tthis._animationTimeout = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Wait two cycles of requestAnimationFrame to be sure styles\n\t * has been applied before continuing with whatever..\n\t */\n\tprivate waitDOMRender(cb: Function): void {\n\t\trequestAnimationFrame(() => {\n\t\t\trequestAnimationFrame(() => {\n\t\t\t\tcb();\n\t\t\t});\n\t\t});\n\t}\n\n\tprivate get element(): HTMLElement {\n\t\treturn this.elRef.nativeElement;\n\t}\n\n\t/**\n\t * Return all of my element's children as an array.\n\t */\n\tprivate get elementChildren(): HTMLElement[] {\n\t\treturn Array.prototype.slice.call(this.element.children);\n\t}\n\n\tprivate get durationMs(): number {\n\t\treturn this.duration * 1000;\n\t}\n\n\t/**\n\t * Clean-up.\n\t */\n\tpublic ngOnDestroy(): void {\n\t\tthis.clearAnimationTimer();\n\t}\n}\n"
  ],
  "names": [],
  "mappings": "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"
}
